<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Métrica de Manutenibilidade de Código CSS</title>
  <!-- framework materialize -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/css/materialize.min.css" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Handlee|Baumans" crossorigin>
  <link rel="stylesheet" href="principal.css">
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>


  <nav>
    <div class="nav-wrapper green lighten-2">
      <i class="small material-icons center">straighten</i>
    </div>
  </nav>

  <main class="row">

    <article class="col s12 m6">
      <header>
        <h1>Métrica de Manutenibilidade</h1>
        <h2>de <span class="green-text text-darken-1">Código CSS</span></h2>
      </header>

      <p>Para calcular o valor da métrica para esta página, clique no botão a seguir.</p>
      <p>Para cada folha de estilo, será mostrado (a) o valor total da métrica e
        (b) o valor separado de cada critério que a compõe.</p>
      <a class="waves-effect waves-light btn-large blue darken-4" href="javascript:'use strict';function _taggedTemplateLiteral(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var _templateObject=_taggedTemplateLiteral(['\n      <span class=\'close\' onclick=\'this.parentNode.className = undefined;\'>x</span>\n      <table>\n        <thead>\n          <tr>\n            <th rowspan=\'2\'>&nbsp;</th>\n            ','\n          </tr>\n          <tr>\n            ','\n          </tr>\n        </thead>\n        <tbody>\n          ','\n        </tbody>\n        <tfoot>\n          <tr>\n            <td>Total:</td>\n            ','\n          </tr>\n        </tfoot>\n      </table>'],['\n      <span class=\'close\' onclick=\'this.parentNode.className = undefined;\'>x</span>\n      <table>\n        <thead>\n          <tr>\n            <th rowspan=\'2\'>&nbsp;</th>\n            ','\n          </tr>\n          <tr>\n            ','\n          </tr>\n        </thead>\n        <tbody>\n          ','\n        </tbody>\n        <tfoot>\n          <tr>\n            <td>Total:</td>\n            ','\n          </tr>\n        </tfoot>\n      </table>']),_templateObject2=_taggedTemplateLiteral(['\n              <th>styleSheet ','</th>\n              '],['\n              <th>styleSheet ','</th>\n              ']),_templateObject3=_taggedTemplateLiteral(['\n              <th>','</th>\n              '],['\n              <th>','</th>\n              ']),_templateObject4=_taggedTemplateLiteral(['\n            <tr>\n              <td>','</td>\n              ','\n            </tr>\n            '],['\n            <tr>\n              <td>','</td>\n              ','\n            </tr>\n            ']),_templateObject5=_taggedTemplateLiteral(['\n                <td>','</td>\n                '],['\n                <td>','</td>\n                ']),_templateObject6=_taggedTemplateLiteral(['\n              <td>','</td>\n              '],['\n              <td>','</td>\n              ']),GroupingCriteria=function(t){function e(t,e){return e*Math.atan((t.selectorText.split(',').length-1)/20)}var n=this;this.rules=Array.from(t).filter(function(t){return 1==t.type}),this.weight=2.8,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},NestingCriteria=function(t){function e(t,e,n){for(var r=0,s=t.selectorText.split(' '),i=0;i<s.length-1;i++)s[i].indexOf(',','>','~','+')<0&&r++;return e*Math.atan(r/20)}var n=this;this.rules=Array.from(t).filter(function(t){return 1==t.type}),this.weight=2.8,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight,n.pattern))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},RareSelectorsCriteria=function(t){function e(t,e,n){var r=n.exec(t.selectorText);return null!==r?r.length*e:0}var n=this;this.pattern=/(\[{1}.*=.*\]{1})|(>|~|\+)/g,this.rules=Array.from(t).filter(function(t){return 1==t.type}),this.weight=3,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight,n.pattern))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},SimplifiedPropertiesCriteria=function(t){function e(t,e,n){var r=n.exec(t.cssText);return null!==r?r.length*e:0}var n=this;this.pattern=/\w+:\s?(\w+\s?)+;/g,this.rules=Array.from(t).filter(function(t){return 1==t.type}),this.weight=3.2,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight,n.pattern))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},SelectorSizeCriteria=function(t){function e(t,e){return t.selectorText.length>35?e:0}var n=this;this.rules=Array.from(t).filter(function(t){return 1==t.type}),this.weight=3,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},PseudoElementsCriteria=function(t){function e(t,e,n){var r=n.exec(t.selectorText);return null!==r?r.length*e:0}var n=this;this.rules=Array.from(t).filter(function(t){return 1==t.type}),this.weight=2.8,this.pattern=/(?!:not)(?!:.*-child)(::\w+)/g,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight,n.pattern))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},AtRulesCriteria=function(t){function e(t,e,n){var r=n.exec(t.selectorText);return null!==r?r.length*e:0}var n=this;this.rules=Array.from(t).filter(function(t){return[3,5,6,7,8,10,12,13].indexOf(t.type)>-1}),this.weight=2.8,this.pattern=/(?!@media)(@\w+)/g,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight,n.pattern))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},MediaQueriesCriteria=function(t){function e(t,e,n){var r=n.exec(t.selectorText);return null!==r?r.length*e:0}var n=this;this.rules=Array.from(t).filter(function(t){return 4==t.type}),this.weight=3.8,this.pattern=/(@media)/g,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight,n.pattern))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},PrefixCriteria=function(t){function e(t,e,n){var r=n.exec(t.cssText);return null!==r?r.length*e:0}var n=this;this.rules=Array.from(t).filter(function(t){return 1==t.type}),this.weight=4.2,this.pattern=/(-webkit-)|(-moz-)|(-ms-)|(-o-)/g,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight,n.pattern))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},NotSufixCriteria=function(t){function e(t,e,n){var r=n.exec(t.selectorText);return null!==r?r.length*e:0}var n=this;this.rules=Array.from(t).filter(function(t){return 1==t.type}),this.weight=3.8,this.pattern=/(:not)/g,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight,n.pattern))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},SelectorComplexityCriteria=function(t){function e(t,e,n){var r=n.exec(t.selectorText);return null!==r?Math.pow(e,r.length):0}var n=this;this.rules=Array.from(t).filter(function(t){return 1==t.type}),this.weight=2.8,this.pattern=/(\s\+)|(\s~)|((\w*\[[a-zA-Z0-9\^=]*\]))/g,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight,n.pattern))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},LocationSelectorCriteria=function(t){function e(t,e,n){var r=n.exec(t.selectorText);return null!==r?r.length*e:0}var n=this;this.rules=Array.from(t).filter(function(t){return 1==t.type}),this.weight=2.8,this.pattern=/(\w:\w*(-\w*)*-child)/g,this.resultList=this.rules.map(function(t){return new Result(t,e(t,n.weight,n.pattern))}),this.total=this.resultList.reduce(function(t,e){return t+e.score},0)},Result=function(t,e){var n=this;this.cssRule=t,this.score=e,this.htmlMatches=function(){return n.cssRule.selectorText}},myStyleSheet=function(t){this.styleSheet=t,this.criteriaList=[],this.criteriaList.push(t.cssRules?new RareSelectorsCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new GroupingCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new NestingCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new SimplifiedPropertiesCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new PseudoElementsCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new SelectorSizeCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new AtRulesCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new MediaQueriesCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new PrefixCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new NotSufixCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new SelectorComplexityCriteria(t.cssRules):null),this.criteriaList.push(t.cssRules?new LocationSelectorCriteria(t.cssRules):null),this.finalScore=this.criteriaList.reduce(function(t,e){return t+(e?e.total:0)},0)};!function(){function t(t){for(var e=t.raw,n='',r=arguments.length,s=Array(r>1?r-1:0),i=1;r>i;i++)s[i-1]=arguments[i];return s.forEach(function(t,r){var s=e[r];Array.isArray(t)&&(t=t.join('')),n+=s,n+=t}),n+=e[e.length-1]}var e=function(t){return null!==t?t.substr(''+t.lastIndexOf('/')||0):null},n=['Seletores com combinadores raros','Agrupamento de seletores','Seletores aninhados','Propriedades abreviadas','Pseudoelementos e pseudoclasses','Seletores muito extensos','<em>At-rules</em>','<em>Media queries</em>','Prefixos de navegadores','Cláusula :not(...)','Complexidade do seletor','Seletores de localidade'],r=function(r){return t(_templateObject,r.styleSheets.map(function(e,n){return t(_templateObject2,n+1)}),r.styleSheets.map(function(n){return t(_templateObject3,e(n.styleSheet.href)||'CSS embutido')}),n.map(function(e,n){return t(_templateObject4,e,r.styleSheets.map(function(e){return t(_templateObject5,e.criteriaList[n]?e.criteriaList[n].total.toFixed(2):'-')}))}),r.styleSheets.map(function(e){return t(_templateObject6,e.finalScore?e.finalScore.toFixed(2):'-')}))},s=['\n      #css-mmc {\n        position: fixed;\n        top: 0.25em;\n        right: 0.25em;\n        z-index: 1000;\n        border-radius: 0.25em;\n        background-color: rgba(255,255,255,0.94);\n        border: 1px solid silver;\n        min-width: 310px;\n        overflow: auto;\n        transition: all 200ms ease-out;\n        opacity: 0;\n        pointer-events: none;\n        transform: translateY(-1em);\n      }','\n      #css-mmc.showing {\n        opacity: 1;\n        pointer-events: initial;\n        transform: translateY(0);\n      }','\n      #css-mmc table {\n        color: #333;\n        font-size: 9px;\n        font-weight: 300;\n        font-family: calibri, sans-serif;\n        width: 95%;\n        margin: 0 auto;\n      }','\n      #css-mmc tbody > tr:nth-child(even) {\n        background-color: rgba(0,0,0,0.15);\n      }','\n      #css-mmc tbody > tr:not(:last-child) {\n        border-bottom: 1px solid silver;\n      }','\n      #css-mmc tfoot tr {\n        color: white;\n        background-color: #333;\n        font-weight: bold;\n      }','\n      #css-mmc td,\n      #css-mmc th {\n        padding: 0.5em;\n        text-align: center;\n        vertical-align: middle;\n        border-radius: initial;\n      }','\n      #css-mmc tbody td:first-of-type {\n        text-align: right;\n        font-weight: 400;\n      }','\n      #css-mmc tbody td:first-of-type,\n      #css-mmc tfoot td:first-of-type {\n        text-align: right;\n      }','\n      #css-mmc .close {\n        position: absolute;\n        top: 0;\n        left: 0.5em;\n        padding: 0.5em;\n        font-size: 20px;\n        color: red;\n        cursor: pointer;\n        border-radius: 0 0 4px 4px;\n        background-color: rgba(255,0,0,0.1);\n        line-height: 1em;\n      }\n    '],i=Array.from(document.styleSheets).filter(function(t){return!t.ownerNode||'css-mmc-style'!==t.ownerNode.id}).map(function(t){return new myStyleSheet(t)}),l=document.getElementById('css-mmc')||document.createElement('aside');l.id='css-mmc',l.innerHTML=r({styleSheets:i}),document.body.insertBefore(l,document.body.children[0]),setTimeout(function(){return l.classList.add('showing')},200);var u=document.getElementById('css-mmc-style')||document.createElement('style');u.id='css-mmc-style',document.head.appendChild(u),s.reverse().forEach(function(t){return u.sheet.insertRule(t,0)})}();">
        <i class="material-icons right">straighten</i>Calcular a Métrica
      </a>
    </article>

    <div class="col s12 m6">
      <div class="card instructions">
        <div class="card-image waves-effect waves-block waves-light">
          <!-- <img class="activator" src="howto.png" alt="Video mostrando como usar" height="321"> -->
          <video class="activator" src="howto.mp4" alt="Video mostrando como usar" height="320" autoplay="true" loop="0"></video>
        </div>
        <div class="card-content">
          <span class="card-title activator grey-text text-darken-4">
            Criando um <em>bookmarklet</em>
            <i class="material-icons right">more_vert</i>
          </span>
        </div>
        <div class="card-reveal">
          <span class="card-title grey-text text-darken-4">Criando um
            <em>bookmarklet<i class="material-icons right">close</i>
          </span>
          <p>Para criar um <em>bookmarklet</em> e calcular a métrica para
            qualquer página web, siga os passos:</p>
          <ol class="steps">
            <li><strong class="green-text text-darken-2">Ative a barra de favoritos</strong> do navegador</li>
            <li><strong class="green-text text-darken-2">Arraste</strong> <a class="waves-effect waves-light btn btn-small blue darken-4" href="javascript:alert()">
              <i class="material-icons right">straighten</i>Calcular a Métrica
            </a> para a barra de favoritos</li>
            <li>Em qualquer página, <strong class="green-text text-darken-2">clique no item</strong> favorito criado</li>
          </ol>
        </div>
      </div>
    </div>

  </main>


  <!-- jquery para framework materialize -->
  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <!-- framework materialize -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.6/js/materialize.min.js"></script>
</body>
</html>
